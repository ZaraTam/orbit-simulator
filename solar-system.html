<!doctype html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Orbit simulator</title>
  <meta name="description" content="Solar system">
  <meta name="author" content="Zara Tam">
</head>

<style>
  body {
    width: 100%;
    height: 100%;
    margin: 0;
  }
</style>

<body>
  <canvas id="orbit">
    Your browser doesnâ€™t currently support HTML5 Canvas.
  </canvas>
  
  <script>
    var canvas = document.getElementById("orbit");
    var context = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // Sun
    var sunX = canvas.width / 2;
    var sunY = canvas.height / 2;
    var sunRadius = 80;
    var sunColour = "orange"

    // Earth
    var earthX = earthY = 0;
    var earthRadius = 20;
    var earthColour = "#A3C1AD"
    var earthDistance = 300;
    var earthTheta = 0;
    var earthPeriod = 12;
    var earthFrequency = 1 / earthPeriod / 60;

    // Moon
    var moonX = moonY = 0;
    var moonRadius = 10;
    var moonColour = "#808080"
    var moonDistance = 50;
    var moonTheta = 0;
    var moonPeriod = 1;
    var moonFrequency = 1 / moonPeriod / 60;

    function drawBody(centreX, centreY, radius, colour) {
      context.fillStyle = colour;

      context.beginPath();
      context.arc(centreX, centreY, radius, 0 * Math.PI, 2 * Math.PI);
      context.fill();
    }

    function drawOrbitPath(centreX, centreY, radius) {
      context.strokeStyle = "#E6E6E6";
      context.lineWidth = 1;

      context.beginPath();
      context.arc(centreX, centreY, radius, 0 * Math.PI, 2 * Math.PI);
      context.stroke();
    }    

    function orbit() {
      context.clearRect(0, 0, canvas.width, canvas.height);

      // Sun
      drawBody(sunX, sunY, sunRadius, sunColour);

      // Earth
      if (earthTheta >= 2 * Math.PI) {
        earthTheta = 0;
      }
      else {
        earthTheta += earthFrequency;
      }

      earthX = sunX + earthDistance * Math.cos(earthTheta);
      earthY = sunY + earthDistance * Math.sin(earthTheta);

      drawOrbitPath(sunX, sunY, earthDistance);
      drawBody(earthX, earthY, earthRadius, earthColour);

      // Moon
      if (moonTheta >= 2 * Math.PI) {
        moonTheta = 0;
      }
      else {
        moonTheta += moonFrequency;
      }

      moonX = earthX + moonDistance * Math.cos(moonTheta);
      moonY = earthY + moonDistance * Math.sin(moonTheta);

      drawOrbitPath(earthX, earthY, moonDistance);
      drawBody(moonX, moonY, moonRadius, moonColour);

      window.requestAnimationFrame(orbit);
    }

    orbit();
    
  </script>

</body>
</html>